<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache">
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="black"/>
    <meta name="format-detection" content="telephone=no,email=no"/>
    <meta name="apple-touch-fullscreen" content="yes"/>
	<title>考勤排名</title>
	<link rel="stylesheet" href="css/wapstyle.css">
	<link rel="stylesheet" href="css/swiper.min.css">
	<link rel="stylesheet" href="css/page_style.css">
	<link rel="stylesheet" href="css/LCalendar.css">
	<link rel="stylesheet" href="css/index.css">
	<script src="js/zepto.js"></script>
	<script src="js/common.js"></script>
	<script src="js/swiper.js"></script>
	<script src="js/LCalendar.js"></script>
</head>
<body>
	<section class="attendKing">
		<header class="header">
			<div class="userName flex">
				<img src="images/app_TxImg.png" class="nameIcon">
				<span class="myName">王瑞</span>
			</div>
			<p class="explain">我的本周累计工时(数据统计截止昨日)</p>
			<p class="workHours" id="workHours"></p>
		</header>
		<section id="swiper">
		    <!-- Add Pagination -->
		    <div class="swiper-tab" id="swiper-tab">
		    	<ul class="swiper-list">
		    		<li class="swiper-item">
		    			<span class="week active">周排名</span>
		    		</li>
		    		<li class="swiper-item monthRanking flex">
		    			<span class="monthly">月排名</span>
		    			<div class="month flex-1 clearfix" id="month">
		    				<!-- <a href="javascript:;" class="fl">
			    				<input id="date" class="date fl" type="text" readonly="readonly" />
			    				<div class="dateValue">
			    					<p class="fl"></p>
			    					<i class="arro fl"></i>
			    				</div>
		    				</a> -->
		    				<a href="javascript:;" class="fl">
			    				<input id="date" class="date fl" type="text" readonly="readonly" />
			    				<i class="arro fl"></i>
		    				</a>
		    				
		    			</div>
		    		</li>
		    	</ul>
		    </div>
		    <!-- Swiper -->
		    <div class="swiper-container">
		        <div class="swiper-wrapper">
		        	<div class="swiper-slide">
			        	<ul class="swiperList">
			        		<li class="slidItem listAttend">
			        			<div class="itemMessage flex">
			        				<i class="number1"></i>
			        				<div class="icon">
			        					<img src="images/app_TxImg.png">
			        				</div>
			        				<p class="name">王瑞</p>
			        				<span class="time">98<i class="small">小时</i></span>
			        			</div>
			        		</li>
			        		<li class="slidItem">
			        			<div class="itemMessage flex">
			        				<i class="number2"></i>
			        				<div class="icon">
			        					<img src="images/app_TxImg.png">
			        				</div>
			        				<p class="name">王瑞</p>
			        				<span class="time">98<i class="small">小时</i></span>
			        			</div>
			        		</li>
			        		<li class="slidItem">
			        			<div class="itemMessage flex">
			        				<i class="number3"></i>
			        				<div class="icon">
			        					<img src="images/app_TxImg.png">
			        				</div>
			        				<p class="name">王瑞</p>
			        				<span class="time">98<i class="small">小时</i></span>
			        			</div>
			        		</li>
			        		<li class="slidItem">
			        			<div class="itemMessage flex">
			        				<i class="number">4.</i>
			        				<div class="icon">
			        					<img src="images/app_TxImg.png">
			        				</div>
			        				<p class="name">王瑞</p>
			        				<span class="time">98<i class="small">小时</i></span>
			        			</div>
			        		</li>
			        	</ul>
		            </div>
		            <div class="swiper-slide">
			        	<ul class="swiperList">
			        		<li class="slidItem listAttend">
			        			<div class="itemMessage flex">
			        				<i class="number1"></i>
			        				<div class="icon">
			        					<img src="images/app_TxImg.png">
			        				</div>
			        				<p class="name">王瑞</p>
			        				<span class="time">98<i class="small">小时</i></span>
			        			</div>
			        		</li>
			        		<li class="slidItem">
			        			<div class="itemMessage flex">
			        				<i class="number2"></i>
			        				<div class="icon">
			        					<img src="images/app_TxImg.png">
			        				</div>
			        				<p class="name">王瑞</p>
			        				<span class="time">98<i class="small">小时</i></span>
			        			</div>
			        		</li>
			        		<li class="slidItem">
			        			<div class="itemMessage flex">
			        				<i class="number3"></i>
			        				<div class="icon">
			        					<img src="images/app_TxImg.png">
			        				</div>
			        				<p class="name">王瑞</p>
			        				<span class="time">98<i class="small">小时</i></span>
			        			</div>
			        		</li>
			        		<li class="slidItem">
			        			<div class="itemMessage flex">
			        				<i class="number">4.</i>
			        				<div class="icon">
			        					<img src="images/app_TxImg.png">
			        				</div>
			        				<p class="name">王瑞</p>
			        				<span class="time">98<i class="small">小时</i></span>
			        			</div>
			        		</li>
			        	</ul>
		            </div>
		        </div>
		    </div>
		</section>
	</section>
	<script>

	$(function(){
		var calendar = new lCalendar();
		calendar.init({
	        'trigger': '#date', //标签id
	        'type': 'ym', //date 调出日期选择 datetime 调出日期时间选择 time 调出时间选择 ym 调出年月选择,
	        'minDate': '1900-1-1', //最小日期
	        // 'maxDate': new Date().getFullYear() + '-' + (new Date().getMonth() + 1), //最大日期
		});
		var now=new Date();
        var yesterday=now.getMonth()+1+'月';
        $(".date").val(yesterday);
		function toDub(n){
			return n<10 ? '0'+n : ''+n;
		} 
		$("#date").on('touchend',function(){
			$(this).parent('a').find('i').addClass('arrow');
		});




	    var swiper = new Swiper('.swiper-container', {
	        speed: 400,
	        onSlideChangeStart:function(ee){
	        	$(".swiper-list .active").removeClass('active');
	        	$(".swiper-list span").eq(swiper.activeIndex).addClass('active');
	        	console.log(ee.activeIndex)
				var str='';
		    	if(ee.activeIndex==1){
		    		// alert('yue')
	    		console.log('yue')
					str+=70+'<span>小时</span>';
					$("#workHours").html(str);
					$(".month").show();
		    	}else if(ee.activeIndex==0){
					str=60+'<span>小时</span>';
					$("#workHours").html(str);
					$(".month").hide();
				}
	        }
	    });

	    $(".swiper-list span").on('touchend',function(){
	    	$(".swiper-list .active").removeClass('active');
	    	$(this).addClass('active');
	    	swiper.slideTo($(this).parent('li').index());
	    	console.log($(this).parent('li').index());
			var str1='';

	    	if($(this).parent('li').index()==1){
	    		// alert('yue')
	    		console.log('1111yue')
				str1+=70+'<span>小时</span>';
				$("#workHours").html(str1);
				$(".month").show();
	    	}else if($(this).parent('li').index()==0){
				str1=60+'<span>小时</span>';
				$("#workHours").html(str1);
				$(".month").hide();
			}
	    });

	    $(".month").on('touchend',function(){
	    	console.log(1)
	    });
		
	});

		function getrankinglist()
		{
			//掉接口

          var result={code:1,message:"",value:[{name:"a",time:""},{name:"b",time:""}]};
			if(result.code==1)
			{
				$(result.value).each(function(i,o){


				});
			}

		}
</script>
</body>
</html>